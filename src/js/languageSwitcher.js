/**
 * Translations object containing language-specific text for Georgian and English.
 * @type {Object}
 */

const translations = {
  ge: {
    message:
      " გამოიწერეთ თიბისი კონცეპტის ნაკრები და ისარგებლეთ როგორც საბანკო, ისე არასაბანკო უპირატესობებით.",
    about:
      "პერსონალური საბანკო მომსახურება, მორგებული თქვენს საჭიროებებსა და ინტერესებზე",
    digital_message:
      "შეასრულეთ საბანკო ოპერაციები დისტანციურად, ციფრული ბანკის დახმარებით",
    digital_description:
      "თიბისი კონცეპტის ციფრული ნაკრები განკუთვნილია მათთვის, ვისთვისაც საბანკო მომსახურებით სარგებლობა ყოველდღიურობის ნაწილია, ვინც...",
    premium_description:
      "თიბისი კონცეპტის მომხმარებლებთან ურთიერთობის ერთ-ერთი ფორმატი - პრემიუმ ნაკრები, სხვა საბანკო და არასაბანკო უპირატესობებთან ერთად...",
    package360_description:
      "თიბისი კონცეპტის 360 ნაკრები განკუთვნილია მათთვის, ვისაც სხვა საბანკო და არასაბანკო უპირატესობებთან ერთად, კიდევ უფრ...",
    private_banker_message:
      "თქვენი სანდო პარტნიორი ფინანსურ რჩევებსა და ოპერაციებში",
    products: "პროდუქტები",
    offer: "შეთავაზება",
    offers: "შეთავაზებები",
    space: "კონცეპტის სივრცე",
    cta: "გამოიწერეთ ნაკრები",
    digital_banking: "ციფრული ბანკი",
    digital_bank: "ციფრული ბანკი",
    products_overview: "პროდუქტების მიმოხილვა",
    packages: "ნაკრები",
    private_banker: "პირადი ბანკირი",
    personal_banker: "პერსონალური ბანკირი",
    overview: "მიმოხილვა",
    event: "ღონისძება",
    events: "ღონისძიებები",
    cafe: "კაფე",
    library: "ბიბლიოთეკა",
    concept_branches: "კონცეპტ ფილიალები",
    branches: "ფილიალები",
    contact_us: "დაგვიკავშირდით:",
    follow: "სოციალური ქსელები",
    all_rights_reserved: "ყველა უფლება დაცულია",
    privacy: "კონფიდენციალურობა",
    terms: "წესები და პირობები",
    main: "მთავარი",
    tbc_concept: "თიბისი კონცეპტი",
    subscribe: "გამოიწერეთ",
    select_package: "შეარჩიეთ ნაკრები",
    digital: "ციფრული",
    read_more: "იხილეთ მეტი",
    premium: "პრემიუმი",
    users: "მომხმარებელი",
    jazz: "ჯაზ ფესტივალის შეთავაზებები",
    iveria: "IVERIA BEACH - დაიბრუნეთ 30%",
    auto: "ავტო",
    tegeta: "თეგეტა მოტორსი",
    tegeta_sale: "თეგეტა მოტორსი - 50% ფასდაკლება",
    tegeta_batumi: "თეგეტა მოტორსი - ბათუმი",
    leisure: "დასვენება",
    visa: "ვიზა",
    meridien: "Le Meridien Batumi - 15%-იანი ფასდაკლება",
    colosseum: "Colosseum Marina Hotel - 15%-იანი ფასდაკლება",
    learn_more: "გაიგეთ მეტი",
    awards: "ჯილდოები",
    award_2024: "საუკეთესო პერსონალური საბანკო მომსახურება საქართველოში 2024",
    award_2023: "საუკეთესო პერსონალური საბანკო მომსახურება საქართველოში 2023",
    award_2022: "საუკეთესო პერსონალური საბანკო მომსახურება საქართველოში 2022",
    award_2021: "საუკეთესო პერსონალური საბანკო მომსახურება საქართველოში 2021",
    address: "მისამართი",
    call_centre: "ქოლ ცენტრი",
    write: "მოგვწერეთ",
  },
  en: {
    message:
      "Subscribe to the TBC concept package and enjoy both banking and non-banking advantages.",
    about: "Personal banking services tailored to your needs and interests",
    digital_message: "Perform banking transactions remotely via Digital Bank",
    digital_description:
      "TBC Concept Digital Package is for those who engage in banking daily, enjoy nonbanking offers and products and prefer to manage their finances and...",
    premium_description:
      "TBC Concept Premium Package client relationship format offers Personal Banker's services, along with other banking and nonbanking benefits. Your...",
    package360_description:
      "TBC Concept 360 package is tailored to those, who need even more financial tools, bigger array of opportunities and Personal Banker's support, along with...",
    private_banker_message:
      "Your trusted partner in financial advice and operations",
    products: "Products",
    offer: "Offers",
    offers: "Offers",
    space: "Concept space",
    cta: "Subscribe To A Package",
    digital_banking: "DIGITAL BANKING",
    digital_bank: "Digital Bank",
    products_overview: "Overview",
    packages: "Packages",
    private_banker: "Private Banker",
    personal_banker: "Private Banker",
    overview: "Overview",
    event: "Events",
    events: "Events",
    cafe: "Cafe",
    library: "Library",
    concept_branches: "TBC Concept Branches",
    branches: "Branches",
    contact_us: "Contact Us",
    follow: "follow us",
    all_rights_reserved: "All rights reserved",
    privacy: "Privacy policy",
    terms: "Terms",
    main: "Home Page",
    tbc_concept: "TBC Concept",
    subscribe: "SUBSCRIBE",
    select_package: "Select a Package",
    digital: "Digital",
    read_more: "READ MORE",
    premium: "Premium",
    users: "Users",
    jazz: "JAZZ FESTIVAL OFFERS",
    iveria: "IVERIA BEACH - Cashback 30%",
    auto: "AUTO",
    tegeta: "TEGETA MOTORS",
    tegeta_sale: "Tegeta Motors - 50% Discount",
    tegeta_batumi: "Tegeta Motors - Batumi",
    leisure: "LEISURE",
    visa: "VISA",
    meridien: "Le Meridien Batumi - 15% Discount",
    colosseum: "Colosseum Marina Hotel - 15% Discount",
    learn_more: "LEARN MORE",
    awards: "Awards",
    award_2024: "The Best Private Banking Service 2024",
    award_2023: "The Best Private Banking Experience in Georgia 2023",
    award_2022: "The Best Private Banking Service 2022",
    award_2021: "The Best Private Banking Service 2021",
    address: "Address",
    call_centre: "Call centre",
    write: "Write to us",
  },
};

/**
 * Handles the language switch functionality. Adds event listeners to language switchers and manages the
 * visibility of logos and content based on the selected language.
 */
export const handleLanguageSwitch = () => {
  const languageSwitchers = document.querySelectorAll(".language-switcher");
  const logosGe = document.querySelectorAll(".logo-lg--georgian");
  const logosEn = document.querySelectorAll(".logo-lg--english");

  languageSwitchers.forEach((switcher) => {
    const currentLanguage = switcher.querySelector(
      ".language-switcher__current-language"
    );
    const otherLanguage = switcher.querySelector(
      ".language-switcher__other-language"
    );

    switcher.addEventListener("mouseenter", function () {
      if (!otherLanguage.classList.contains("visible")) {
        otherLanguage.classList.remove("hidden");
      }
    });

    switcher.addEventListener("mouseleave", function () {
      if (!otherLanguage.classList.contains("visible")) {
        otherLanguage.classList.add("hidden");
      }
    });

    switcher.addEventListener("click", function (event) {
      otherLanguage.classList.remove("hidden");
      otherLanguage.classList.add("visible");
      event.stopPropagation();
    });

    otherLanguage.addEventListener("click", function (event) {
      const newCurrent = otherLanguage.textContent.trim();
      const newOther = currentLanguage.textContent.trim();

      updateAllSwitchers(newCurrent, newOther);
      updateLogos(newCurrent);
      updateContent(newCurrent);

      event.stopPropagation();
    });
  });

  document.addEventListener("click", function () {
    languageSwitchers.forEach((switcher) => {
      const otherLanguage = switcher.querySelector(
        ".language-switcher__other-language"
      );
      otherLanguage.classList.add("hidden");
      otherLanguage.classList.remove("visible");
    });
  });

  /**
   * Updates the language switcher elements with the new current and other languages.
   * @param {string} newCurrent - The new current language.
   * @param {string} newOther - The new other language.
   */
  function updateAllSwitchers(newCurrent, newOther) {
    languageSwitchers.forEach((switcher) => {
      const currentLanguage = switcher.querySelector(
        ".language-switcher__current-language"
      );
      const otherLanguage = switcher.querySelector(
        ".language-switcher__other-language"
      );

      currentLanguage.textContent = newCurrent;
      otherLanguage.textContent = newOther;
    });
  }

  /**
   * Updates the visibility of logos based on the selected language.
   * @param {string} language - The selected language.
   */
  function updateLogos(language) {
    if (language === "Eng") {
      logosGe.forEach((logo) => logo.classList.add("hidden"));
      logosEn.forEach((logo) => logo.classList.remove("hidden"));
    } else {
      logosGe.forEach((logo) => logo.classList.remove("hidden"));
      logosEn.forEach((logo) => logo.classList.add("hidden"));
    }
  }

  /**
   * Updates the content text based on the selected language.
   * @param {string} language - The selected language.
   */
  function updateContent(language) {
    const elements = document.querySelectorAll("[data-translate-key]");
    elements.forEach((element) => {
      const key = element.getAttribute("data-translate-key");
      element.textContent = translations[language === "Eng" ? "en" : "ge"][key];
    });
  }

  const initialLanguage = languageSwitchers[0]
    .querySelector(".language-switcher__current-language")
    .textContent.trim();
  updateLogos(initialLanguage);
  updateContent(initialLanguage);
};
